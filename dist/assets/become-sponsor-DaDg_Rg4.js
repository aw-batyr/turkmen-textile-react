import{r as j,j as e,C as d,t as b,s as h,m as f,q as o,l as y,n,o as l,p as m,B as g,L as S,v as _}from"./ui-library-BWmJzXiX.js";import{a as v}from"./react-vendor-DnK_KZAP.js";import{R as F,a as p}from"./radio-group-JZueQgsm.js";import{z as a,t as N}from"./index-XsVNdJkE.js";import{p as w}from"./service-BkBmsZj9.js";import{u as C}from"./use-scroll-top-DE9Ps7OH.js";const R=a.object({company_name:a.string().min(3,{message:"Название компании должно быть не менее 3 символов"}),rep_name:a.string().min(3,{message:"Имя представителя должно быть не менее 3 символов"}),job_title:a.string().min(3,{message:"Должность должна быть не менее 3 символов"}),country:a.string().min(3,{message:"Название страны должно быть не менее 3 символов"}),email:a.string().email({message:"Укажите корректный email"}),phone:a.string().min(8,{message:"Номер телефона должен быть не менее 8 символов"}),website:a.string().optional(),visa_support:a.string().optional()}),V={company_name:"",rep_name:"",job_title:"",country:"",email:"",phone:"",website:"",visa_support:""};function P(){C();const[c,x]=v.useState(!1),s=j({resolver:N(R),defaultValues:V}),u=async t=>{try{await w(t)&&x(!0)}catch(i){console.error("POST sponsor error",i)}},{errors:r}=s.formState;return e.jsxs("div",{children:[e.jsx(d,{title:"Стать спонсором"}),e.jsx(b,{children:!c&&e.jsx(h,{...s,children:e.jsxs(f.form,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"max-w-[828px] mx-auto px-5 md:mt-20 mt-10 mb-20 md:mb-[120px] flex flex-col gap-8",onSubmit:s.handleSubmit(u),children:[e.jsx(o,{label:"Название компании/организации",name:"company_name",control:s.control,error:r.company_name}),e.jsx(o,{label:"Имя представителя",name:"rep_name",control:s.control,error:r.rep_name}),e.jsx(o,{label:"Название должности/позиция",name:"job_title",control:s.control,error:r.job_title}),e.jsx(o,{label:"Страна",name:"country",control:s.control,error:r.country}),e.jsx(o,{label:"E-mail адрес",name:"email",control:s.control,error:r.email}),e.jsx(o,{label:"Номер телефона",name:"phone",control:s.control,error:r.phone}),e.jsx(o,{label:"Вебсайт",name:"website",control:s.control}),e.jsx(y,{control:s.control,name:"visa_support",render:({field:t})=>e.jsxs(n,{className:"space-y-5",children:[e.jsx(l,{className:"text-xl",children:"Визовая поддержка:"}),e.jsx(m,{children:e.jsxs(F,{onValueChange:t.onChange,defaultValue:t.value,className:"flex flex-col space-y-4 ml-3",children:[e.jsxs(n,{className:"flex items-center space-x-5 space-y-0",children:[e.jsx(m,{children:e.jsx(p,{value:"yes",checked:t.value==="yes"})}),e.jsx(l,{className:"text-base",children:"Да"})]}),e.jsxs(n,{className:"flex items-center space-x-5 space-y-0 ",children:[e.jsx(m,{children:e.jsx(p,{value:"no",checked:t.value==="no"})}),e.jsx(l,{className:"text-base",children:"Нет"})]})]})})]})}),e.jsx(g,{disabled:s.formState.isSubmitting,className:"mt-5",children:s.formState.isSubmitting?e.jsx(S,{className:"animate-spin"}):"Отправить"})]})})}),c&&e.jsx(_,{delay:.3})]})}export{P as default};
